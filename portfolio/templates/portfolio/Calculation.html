<!DOCTYPE html>
<html style="font-size: 16px;" lang="en">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <meta name="keywords" content="登入">
    <meta name="description" content="">
    <title>試算</title>
    <link rel="stylesheet" href="/static/portfolio/nicepage.css" media="screen">
    <script class="u-script" type="text/javascript" src="/static/portfolio/jquery.js" defer=""></script>
    <script class="u-script" type="text/javascript" src="/static/portfolio/nicepage.js" defer=""></script>
    <meta name="generator" content="Nicepage 4.21.12, nicepage.com">
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css'
        integrity='sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=='
        crossorigin='anonymous' />
    <link id="u-theme-google-font" rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
        integrity="sha512-c42qTSw/wPZ3/5LBzD+Bw5f7bSF2oxou6wEb+I/lqeaKV5FDIfMvvRp772y4jcJLKuGUOpbJMdg/BTl50fJYAw=="
        crossorigin="anonymous" />
    <!--embedded LaTeX-->
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});

    </script>
    <script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript">
    </script>


    <script type="application/ld+json">{
        "@context": "http://schema.org",
        "@type": "Organization",
        "name": "",
        "logo": "images/logo_pig.png"
    }</script>
    <meta name="theme-color" content="#478ac9">
    <meta property="og:title" content="SingIn">
    <meta property="og:type" content="website">
    <style>
        .u-section-1 .u-group-1 {
            min-height: 690px;
            width: 600px;
            height: auto;
            margin: 35px auto 57px;
        }
    </style>
    <link rel="icon" href="/static/portfolio/images/logo_money.png" type="image/x-icon" />


    <style>
        /* bubbles */

        .bubbles {
            position: fixed;
            width: 30vw;
            height: 100vh;
        }

        .bubble {
            position: absolute;
            border-radius: 50%;
        }

        /* animation */

        @keyframes floating-bubble-up-down {
            from {
                transform: translateY(0);
            }

            10% {
                transform: translateY(50px);
            }

            20% {
                transform: translateY(100px);
            }

            30% {
                transform: translateY(150px);
            }

            40% {
                transform: translateY(100px);
            }

            50% {
                transform: translateY(50px);
            }

            60% {
                transform: translateY(0px);
            }

            70% {
                transform: translateY(-50px);
            }

            80% {
                transform: translateY(-100px);
            }

            90% {
                transform: translateY(-50px);
            }

            to {
                transform: translateY(0);
            }
        }

        @keyframes floating-bubble-down-up {
            from {
                transform: translateY(0);
            }

            10% {
                transform: translateY(-50px);
            }

            20% {
                transform: translateY(-100px);
            }

            30% {
                transform: translateY(-150px);
            }

            40% {
                transform: translateY(-100px);
            }

            50% {
                transform: translateY(-50px);
            }

            60% {
                transform: translateY(0px);
            }

            70% {
                transform: translateY(50px);
            }

            80% {
                transform: translateY(100px);
            }

            90% {
                transform: translateY(50px);
            }

            to {
                transform: translateY(0);
            }
        }

        /* common */

        .container {
            display: flex;
            justify-content: center;
            margin: 5vh 10vw 5vh 10vw;
        }

        .row {
            display: flex;
            flex-direction: row;
            align-items: center;
        }

        .col {
            display: flex;
            flex-direction: column;
        }

        .center {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .justify-center {
            justify-content: center;
        }

        .justify-around {
            justify-content: space-around;
        }

        .justify-between {
            justify-content: space-between;
        }

        .align-center {
            align-items: center;
        }

        footer {
            position: absolute;
            width: 100vw;
            bottom: -3em;
        }

        /* calculation  */

        body {
            background: rgb(250, 248, 237) !important;
        }

        .u-section-1 {
            width: 50vw;
            margin: 5vh 25vw;
        }

        form {
            padding: 3vh 5vw;
        }

        #id_model {
            font-size: 30px;
            margin: 5vh 0;
        }

        #id_model>div {
            display: none;
        }

        .carousel-btn {
            background-color: lightgray;
            border: 0;
            border-radius: 50px;
            color: white;
            width: 50px;
            height: 50px;
            font-size: 25px;
        }

        .carousel-btn:active {
            background-color: black;
            color: white;
        }

        #content-wrapper>div {
            display: none;
        }

        footer {
            bottom: -10em;
        }
    </style>
</head>

<body class="u-body u-xl-mode" data-lang="en">
    <header class="u-box-shadow u-clearfix u-header u-sticky u-sticky-4220 u-white u-header" id="sec-f997"
        data-animation-name="" data-animation-duration="0" data-animation-delay="0" data-animation-direction="">
        <div class="u-clearfix u-sheet u-sheet-1">
            <a href="/portfolio/home" class="u-image u-logo u-image-1" data-image-width="1920" data-image-height="1080"
                title="Home">
                <img src="/static/portfolio/images/logo_pig.png" class="u-logo-image u-logo-image-1">
            </a>
            <nav class="u-menu u-menu-one-level u-offcanvas u-menu-1">
                <div class="menu-collapse" style="font-size: 1rem; letter-spacing: 0px;">
                    <a class="u-button-style u-custom-left-right-menu-spacing u-custom-padding-bottom u-custom-top-bottom-menu-spacing u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base"
                        href="#">
                        <svg class="u-svg-link" viewBox="0 0 24 24">
                            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#menu-hamburger"></use>
                        </svg>
                        <svg class="u-svg-content" version="1.1" id="menu-hamburger" viewBox="0 0 16 16" x="0px" y="0px"
                            xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">
                            <g>
                                <rect y="1" width="16" height="2"></rect>
                                <rect y="7" width="16" height="2"></rect>
                                <rect y="13" width="16" height="2"></rect>
                            </g>
                        </svg>
                    </a>
                </div>
                <div class="u-custom-menu u-nav-container">
                    <ul class="u-nav u-unstyled u-nav-1">
                        <li class="u-nav-item"><a
                                class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base"
                                href="/portfolio/about" style="padding: 26px 20px;">關於我們</a>
                        </li>
                        <li class="u-nav-item"><a
                                class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base"
                                href="/portfolio/questionnaire" style="padding: 26px 20px;">問卷試算</a>
                            <div class="u-nav-popup">
                                <ul class="u-h-spacing-20 u-nav u-unstyled u-v-spacing-10">
                                    <li class="u-nav-item"><a class="u-button-style u-nav-link u-white"
                                            href="#">SingIn</a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                        <li class="u-nav-item"><a
                                class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base"
                                href="/portfolio/calculation" style="padding: 26px 20px;">試算</a>
                        </li>
                        <li class="u-nav-item"><a
                                class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base"
                                href="/portfolio/signUp" style="padding: 26px 20px;">註冊</a>
                        </li>
                        <li class="u-nav-item"><a
                                class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base"
                                href="/portfolio/signIn" style="padding: 26px 20px;">登入</a>
                        </li>
                        <li class="u-nav-item"><a
                                class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base"
                                href="/portfolio/signOut" style="padding: 26px 20px;">登出</a>
                        </li>
                    </ul>
                </div>
                <div class="u-custom-menu u-nav-container-collapse">
                    <div class="u-black u-container-style u-inner-container-layout u-opacity u-opacity-95 u-sidenav">
                        <div class="u-inner-container-layout u-sidenav-overflow">
                            <div class="u-menu-close"></div>
                            <ul class="u-align-center u-nav u-popupmenu-items u-unstyled u-nav-3">
                                <li class="u-nav-item"><a class="u-button-style u-nav-link"
                                        href="/portfolio/about">關於我們</a></li>
                                <li class="u-nav-item"><a class="u-button-style u-nav-link"
                                        href="/portfolio/questionnaire">問卷試算</a></li>
                                <li class="u-nav-item"><a class="u-button-style u-nav-link"
                                        href="/portfolio/calculation">試算</a></li>
                                <li class="u-nav-item"><a class="u-button-style u-nav-link"
                                        href="/portfolio/signUp">註冊</a></li>
                                <li class="u-nav-item"><a class="u-button-style u-nav-link"
                                        href="/portfolio/signIn">登入</a></li>
                                <li class="u-nav-item"><a class="u-button-style u-nav-link"
                                        href="/portfolio/signOut">登出</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="u-black u-menu-overlay u-opacity u-opacity-70"></div>
                </div>
            </nav>
        </div>
    </header>

    <main>
        <div class="bubbles col justify-center"></div>
        <div class="bubbles col justify-center"></div>
        <div class="bubbles col justify-center"></div>
        <div class="bubbles col justify-center"></div>
        <section class="container u-align-center u-clearfix u-gradient u-section-1" id="carousel_d4d6">
            <div class="u-clearfix u-sheet u-sheet-1">
                <h2 class="u-text u-text-default u-text-1 u-expanded-width">快速試算</h2>
                <div
                    class="u-align-center u-container-style u-group u-radius-30 u-shape-round u-white u-group-1 animate__animated animate__fadeInUp">
                    <div class="u-container-layout u-container-layout-1">
                        <div class="u-form u-form-1">
                            <form action="#" method="post">
                                {% csrf_token %}
                                <tr>
                                    <h3><label>請選擇您所偏好之投資組合最佳化模型:</label></h3>
                                    <td>
                                        <!-- carousel -->
                                        <div class="row justify-around" id="id_model" style="text-align: center">
                                            <button class="carousel-btn center" type="button">
                                                <i class="fa-solid fa-chevron-left"></i>
                                            </button>
                                            <div>
                                                均異模型
                                            </div>
                                            <div>
                                                條件風險值模型
                                            </div>
                                            <div>
                                                Omega比率模型
                                            </div>
                                            <button class="carousel-btn center" type="button">
                                                <i class="fa-solid fa-chevron-right"></i>
                                            </button>
                                        </div>
                                        <!-- carousel end -->

                                        <div id="content-wrapper">
                                            <div class="btn-content">
                                                <h3>Mean Variance Model</h3>
                                                <img src="/static/portfolio/images/mv_formula.png" width="500">
                                                <li>
                                                    目標式（1）為最大化投資組合報酬；限制式（2）最小化投資組合風險；限制式（3）為最小化賣空；限制式（4）最小化投資組合交易成本；限制式（5）為投資組合再調整中，投交易成本與資標的權重總和需等於1；限制式（6）與（7）為投資組合再調整後，投資標的權重的定義；限制式（8）與（9）為權重上下邊界，避免投資比例太低進而降低管理投資組合效率；限制式（10）為使用來強制第
                                                    j 個標的只能買入或買空。
                                                </li>
                                            </div>
                                            <div class="btn-content" style="display:none;">
                                                <h3>Conditional Value at Risk Model</h3>
                                                <img src="/static/portfolio/images/cvar_formula.png" width="500">
                                                <li>
                                                    目標式（1）為最小化條件風險值、最小化投資組合賣空權重與最小化投資組合交易成本；限制式（2）為衡量最差情況下的條件風險值；限制式（3）為衡量投資組合在所有可能的情況下，大於門檻值的風險；限制式（4）為大於門檻值的風險需大於0；限制式（5）為投資組合期望報酬率大於需求報酬率；限制式（6）為投資組合再調整中，投交易成本與資標的權重總和需等於1；限制式（7）與（8）為投資組合再調整後，投資標的權重的定義；限制式（9）與（10）為權重上下邊界，避免投資比例太低進而降低管理投資組合效率；限制式（11）為強制第
                                                    j
                                                    個標的只能買入或買空；限制式（12）為二元變數，為1代表有投資買入第j個標的，若為0則代表沒有投資買入第j個標的；為1代表有投資賣空第j個標的，若為0則代表沒有投資賣空第j個標的。
                                                </li>
                                            </div>
                                            <div class="btn-content" style="display:none;">
                                                <h3>Omega ratio Model</h3>
                                                <img src="/static/portfolio/images/omega_formula.png" width="500">
                                                <li>
                                                    目標式（1）為最大化報酬與風險之比率、最小化投資組合賣空權重與最小化投資組合交易成本；限制式（2）在第一部分，投資組合報酬大於門檻值，故劃分為獲利；小於門檻值則劃分為損失。若為1，最大化投資組合收益為主要問題；若為0則代表最小化投資組合風險；限制式（3）為可能性分佈下，大於門檻之投資組合的風險；限制式（4）為大於門檻值的風險需大於0；限制式（5）為投資組合期望報酬率大於需求報酬率；限制式（6）為投資組合再調整中，投交易成本與資標的權重總和需等於1；限制式（7）與（8）為投資組合再調整後，投資標的權重的定義；限制式（9）與（10）為權重上下邊界，避免投資比例太低進而降低管理投資組合效率；限制式（11）為強制第
                                                    j
                                                    個標的只能買入或買空；限制式（12）為二元變數，為1代表有投資買入第j個標的，若為0則代表沒有投資買入第j個標的；為1代表有投資賣空第j個標的，若為0則代表沒有投資賣空第j個標的。
                                                </li>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                                <input type="hidden" name="model" required id="id_model" value="1">
                                <tr>
                                    <th>
                                        <label for="id_amount">請輸入您想投資的金額:</label>
                                    </th>
                                    <td>
                                        <input type="number" name="amount" min="0.0" step="any" required id="id_amount">
                                    </td>
                                </tr>
                                </br>
                                <input type="submit"
                                    class="u-expanded-width u-border-none
                                    u-btn u-btn-round u-btn-submit u-button-style u-hover-palette-4-dark-2 u-palette-4-dark-1 u-radius-21 u-btn-1"
                                    value="送出" />
                            </form>
                            {{s}}
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="u-align-center u-clearfix u-footer u-grey-80 u-footer" id="sec-3e64">
        <div class="u-clearfix u-sheet u-valign-middle u-sheet-1">
            <p class="u-small-text u-text u-text-variant u-text-1">台北商業大學 資訊管理系 11404組</p>
        </div>
    </footer>
    <!--<section class="u-backlink u-clearfix u-grey-80">-->
    <!--    <a class="u-link" href="https://nicepage.com/website-templates" target="_blank">-->
    <!--        <span>Website Templates</span>-->
    <!--    </a>-->
    <!--    <p class="u-text">-->
    <!--        <span>created with</span>-->
    <!--    </p>-->
    <!--    <a class="u-link" href="" target="_blank">-->
    <!--        <span>Website Builder Software</span>-->
    <!--    </a>.-->
    <!--</section>-->

</body>

<script type="text/javascript">
    function hideLayer(id) {
        var e = document.getElementById(id);
        if (e.style.display == 'block')
            e.style.display = 'none';
    }
</script>
<script type="text/javascript">
    function showLayer(id) {
        var e = document.getElementById(id);
        if (e.style.display == 'none')
            e.style.display = 'block';
    }

</script>
<script>
    class BubbleBuilder {
        bubbleConfig = [
            // pink
            {
                color: "rgb(250, 228, 223)",
                size: "20px",
                top: "20%",
                left: "70%",
                // animation: "floating-bubble-up-down 15s infinite linear",
            },
            // blue
            {
                color: "rgb(226, 234, 234)",
                size: "100px",
                top: "20%",
                left: "40%",
                // animation: "floating-bubble-down-up 15s infinite linear",
            },
            // purple
            {
                color: "rgb(239, 226, 236)",
                size: "60px",
                top: "20%",
                left: "10%",
                // animation: "floating-bubble-up-down 15s infinite linear",
            },
            // green
            {
                color: "rgb(227, 244, 224)",
                size: "30px",
                top: "20%",
                left: "30%",
                // animation: "floating-bubble-down-up 15s infinite linear",
            },
        ]

        constructor() {

        }

        createBubbles(sectionNumber = 2) {
            let sections = document.querySelectorAll(".bubbles")
            sections.forEach((section, index) => {
                section.style.left = `${(75 / (sectionNumber - 1)) * (index % sectionNumber)}vw`
                section.style.top = `${index * 20}vh`
                Array(4).fill(0).forEach((_, index) => {
                    let { color, size, top, left, animation } = this.bubbleConfig[index]

                    let node = document.createElement("div")
                    node.classList = ["bubble"]
                    node.style.background = color
                    node.style.width = size
                    node.style.height = size
                    node.style.top = top
                    node.style.left = left
                    node.style.animation = Math.random() > 0.5 ? "floating-bubble-down-up 15s infinite linear" : "floating-bubble-up-down 15s infinite linear"

                    section.appendChild(node)
                })
            })
        }
    }
</script>
<script>
    // carousel
    let carouselSelectedIndex = 0

    let carouselTitles = document.querySelectorAll("#id_model div")

    let carouselBtns = document.querySelectorAll(".carousel-btn")

    let carouselTabs = document.querySelectorAll("#content-wrapper > div")

    function toggleCarouselBtn() {
        carouselBtns[0].style.opacity = carouselSelectedIndex > 0 ? 1 : 0
        carouselBtns[1].style.opacity = carouselSelectedIndex < carouselTabs.length - 1 ? 1 : 0
    }

    function refreshCarouselTitle() {
        carouselTitles.forEach((title, index) => {
            title.style.display =
                index === carouselSelectedIndex ? "block" : "none"
        })
    }

    function refreshCarouselTab() {
        carouselTabs.forEach((tab, index) => {
            tab.style.display =
                index === carouselSelectedIndex ? "block" : "none"
        })
    }

    function assignHiddenInput() {
        document.querySelector("#id_model").setAttribute('value', carouselSelectedIndex + 1)
    }

    function refreshCarousel() {
        toggleCarouselBtn()
        refreshCarouselTitle()
        refreshCarouselTab()
        assignHiddenInput()
    }

    carouselBtns[0].addEventListener("click", () => {
        carouselSelectedIndex = Math.max(0, carouselSelectedIndex - 1)
        refreshCarousel()
    })

    carouselBtns[1].addEventListener("click", () => {
        carouselSelectedIndex = Math.min(carouselTabs.length - 1, carouselSelectedIndex + 1)
        refreshCarousel()
    })

    // init
    refreshCarousel()


    // init

    let builder = new BubbleBuilder()
    builder.createBubbles()
</script>

</html>